{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Cache-Control"
              content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <title>
            {% block title %}InvoiceFlow{% endblock %}
        | Professional Invoicing Platform</title>
        <meta name="description"
              content="{% block meta_description %}Create stunning invoices in seconds. InvoiceFlow is the modern invoicing platform designed to automate billing and help your business get paid faster.{% endblock %}">
        <meta name="keywords"
              content="invoicing software, invoice generator, billing platform, payment automation, professional invoices, business invoicing, online invoicing, invoice templates, recurring billing, payment tracking">
        <meta name="author" content="InvoiceFlow">
        <meta name="robots"
              content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
        <meta name="googlebot" content="index, follow">
        <meta name="theme-color" content="#6366f1">
        <meta name="color-scheme" content="dark light">
        <meta name="format-detection" content="telephone=no">
        <link rel="canonical"
              href="{% if request.is_secure %}https{% else %}http{% endif %}://{{ request.get_host }}{{ request.path }}">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="InvoiceFlow">
        <meta property="og:title"
              content="{% block og_title %}InvoiceFlow - Professional Invoicing Platform{% endblock %}">
        <meta property="og:description"
              content="{% block og_description %}Create stunning invoices in seconds and get paid faster with the modern invoicing platform for businesses.{% endblock %}">
        <meta property="og:image"
              content="{% block og_image %}{% if request.is_secure %}https{% else %}http{% endif %}://{{ request.get_host }}/static/images/og-image.jpg{% endblock %}">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta property="og:image:alt"
              content="InvoiceFlow - Modern Invoicing Platform">
        <meta property="og:url"
              content="{% if request.is_secure %}https{% else %}http{% endif %}://{{ request.get_host }}{{ request.path }}">
        <meta property="og:locale" content="en_US">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@invoiceflow">
        <meta name="twitter:creator" content="@invoiceflow">
        <meta name="twitter:title"
              content="InvoiceFlow - Professional Invoicing Platform">
        <meta name="twitter:description"
              content="Create stunning invoices in seconds and get paid 3x faster.">
        <meta name="twitter:image"
              content="{% if request.is_secure %}https{% else %}http{% endif %}://{{ request.get_host }}/static/images/og-image.jpg">
        <link rel="icon" type="image/svg+xml" href="{% static 'favicon.svg' %}">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="{% static 'favicon-32x32.png' %}">
        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="{% static 'favicon-16x16.png' %}">
        <link rel="apple-touch-icon"
              sizes="180x180"
              href="{% static 'apple-touch-icon.png' %}">
        <link rel="manifest" href="{% static 'manifest.json' %}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="dns-prefetch" href="https://fonts.googleapis.com">
        <link rel="dns-prefetch" href="https://fonts.gstatic.com">
        <link rel="preload"
              as="style"
              href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap">
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
              media="print"
              onload="this.media='all'">
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap">
        </noscript>
        <link rel="preload" href="{% static 'css/critical.css' %}" as="style">
        <link rel="stylesheet" href="{% static 'css/critical.css' %}">
        {% if USE_MINIFIED_ASSETS %}
            <link rel="preload"
                  href="{% static 'css/design-tokens.min.css' %}"
                  as="style">
            <link rel="stylesheet" href="{% static 'css/design-tokens.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/main.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/components.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/animations.css' %}">
            <link rel="stylesheet" href="{% static 'css/enhancements.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/premium-sections.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/responsive.min.css' %}">
            <link rel="stylesheet" href="{% static 'css/hero-enterprise.css' %}">
        {% else %}
            <link rel="preload" href="{% static 'css/design-tokens.css' %}" as="style">
            <link rel="stylesheet" href="{% static 'css/design-tokens.css' %}">
            <link rel="stylesheet" href="{% static 'css/main.css' %}">
            <link rel="stylesheet" href="{% static 'css/components.css' %}">
            <link rel="stylesheet" href="{% static 'css/animations.css' %}">
            <link rel="stylesheet" href="{% static 'css/enhancements.css' %}">
            <link rel="stylesheet" href="{% static 'css/premium-sections.css' %}">
            <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
            <link rel="stylesheet" href="{% static 'css/hero-enterprise.css' %}">
        {% endif %}
        <link rel="stylesheet" href="{% static 'css/tailwind.output.css' %}">
        <link rel="stylesheet" href="{% static 'css/enhancements-v2.css' %}">
        {% block extra_css %}{% endblock %}
        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "InvoiceFlow",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "description": "Free trial available"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "2847"
        },
        "description": "Professional invoicing platform that helps businesses create stunning invoices, automate billing, and get paid faster."
    }
        </script>
        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "InvoiceFlow",
        "url": "https://invoiceflow.com.ng",
        "logo": "https://invoiceflow.com.ng/static/images/logo.png",
        "sameAs": [
            "https://twitter.com/invoiceflow",
            "https://linkedin.com/company/invoiceflow"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "support@invoiceflow.com.ng",
            "contactType": "customer service",
            "availableLanguage": ["English"]
        }
    }
        </script>
        {% block head_extra %}{% endblock %}
    </head>
    <body class="no-js {% block body_class %}{% endblock %}">
        <script>document.body.classList.remove('no-js');</script>
        <a href="#main-content" class="skip-link">Skip to main content</a>
        {% block nav %}
            <nav class="nav" role="navigation" aria-label="Main navigation">
                <div class="container">
                    <div class="nav-inner">
                        <a href="{% url 'home' %}"
                           class="nav-logo"
                           aria-label="InvoiceFlow - Home">
                            <div class="nav-logo-icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                    <polyline points="10 9 9 9 8 9" />
                                </svg>
                            </div>
                            <span class="nav-logo-text">InvoiceFlow</span>
                        </a>
                        <div class="nav-links" role="menubar">
                            <a href="{% url 'features' %}" class="nav-link" role="menuitem">Features</a>
                            <a href="{% url 'about' %}" class="nav-link" role="menuitem">About</a>
                            <a href="{% url 'contact' %}" class="nav-link" role="menuitem">Contact</a>
                        </div>
                        <div class="nav-actions">
                            {% if user.is_authenticated %}
                                <a href="{% url 'dashboard' %}" class="btn btn-primary">Dashboard</a>
                            {% else %}
                                <a href="{% url 'login' %}" class="btn btn-secondary">Log in</a>
                                <a href="{% url 'signup' %}" class="btn btn-primary">
                                    Get Started
                                    <svg class="btn-icon"
                                         viewBox="0 0 24 24"
                                         fill="none"
                                         stroke="currentColor"
                                         stroke-width="2"
                                         stroke-linecap="round"
                                         stroke-linejoin="round"
                                         aria-hidden="true">
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                        <polyline points="12 5 19 12 12 19" />
                                    </svg>
                                </a>
                            {% endif %}
                        </div>
                        <button class="nav-mobile-toggle"
                                aria-label="Toggle navigation menu"
                                aria-expanded="false"
                                aria-controls="mobile-menu">
                            <span aria-hidden="true"></span>
                            <span aria-hidden="true"></span>
                            <span aria-hidden="true"></span>
                        </button>
                    </div>
                    <div class="nav-mobile-menu"
                         id="mobile-menu"
                         aria-hidden="true"
                         role="dialog"
                         aria-label="Mobile navigation menu">
                        <div class="nav-mobile-links" role="menu">
                            <a href="{% url 'features' %}" class="nav-mobile-link" role="menuitem">
                                Features
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <polyline points="9 18 15 12 9 6" />
                                </svg>
                            </a>
                            <a href="{% url 'about' %}" class="nav-mobile-link" role="menuitem">
                                About
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <polyline points="9 18 15 12 9 6" />
                                </svg>
                            </a>
                            <a href="{% url 'contact' %}" class="nav-mobile-link" role="menuitem">
                                Contact
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <polyline points="9 18 15 12 9 6" />
                                </svg>
                            </a>
                        </div>
                        <div class="nav-mobile-divider" aria-hidden="true"></div>
                        <div class="nav-mobile-actions">
                            {% if user.is_authenticated %}
                                <a href="{% url 'dashboard' %}" class="btn btn-primary btn-block">
                                    Go to Dashboard
                                    <svg class="btn-icon"
                                         viewBox="0 0 24 24"
                                         fill="none"
                                         stroke="currentColor"
                                         stroke-width="2"
                                         stroke-linecap="round"
                                         stroke-linejoin="round"
                                         aria-hidden="true">
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                        <polyline points="12 5 19 12 12 19" />
                                    </svg>
                                </a>
                            {% else %}
                                <a href="{% url 'login' %}" class="btn btn-secondary btn-block">Log in</a>
                                <a href="{% url 'signup' %}" class="btn btn-primary btn-block">
                                    Get Started Free
                                    <svg class="btn-icon"
                                         viewBox="0 0 24 24"
                                         fill="none"
                                         stroke="currentColor"
                                         stroke-width="2"
                                         stroke-linecap="round"
                                         stroke-linejoin="round"
                                         aria-hidden="true">
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                        <polyline points="12 5 19 12 12 19" />
                                    </svg>
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </nav>
        {% endblock %}
        <main id="main-content" role="main">
            {% block content %}{% endblock %}
        </main>
        {% block footer %}
            <footer class="footer footer-enhanced" role="contentinfo">
                <div class="footer-wave" aria-hidden="true">
                    <svg viewBox="0 0 1440 120" preserveAspectRatio="none">
                        <path d="M0,60 C240,120 480,0 720,60 C960,120 1200,0 1440,60 L1440,120 L0,120 Z" fill="currentColor" />
                    </svg>
                </div>
                <div class="container">
                    <div class="footer-top">
                        <div class="footer-grid">
                            <div class="footer-brand">
                                <a href="{% url 'home' %}" class="footer-brand-logo">
                                    <div class="footer-logo-icon" aria-hidden="true">
                                        <svg viewBox="0 0 24 24"
                                             fill="none"
                                             stroke="currentColor"
                                             stroke-width="2"
                                             stroke-linecap="round"
                                             stroke-linejoin="round">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                            <polyline points="14 2 14 8 20 8" />
                                            <line x1="16" y1="13" x2="8" y2="13" />
                                            <line x1="16" y1="17" x2="8" y2="17" />
                                            <polyline points="10 9 9 9 8 9" />
                                        </svg>
                                    </div>
                                    <span class="footer-logo-text">InvoiceFlow</span>
                                </a>
                                <p class="footer-brand-description">
                                    The modern invoicing platform that helps businesses create professional invoices,
                                    automate billing, and get paid faster.
                                </p>
                                <div class="footer-social" role="list" aria-label="Social media links">
                                    <a href="https://twitter.com/invoiceflow"
                                       class="footer-social-link"
                                       aria-label="Follow us on Twitter"
                                       rel="noopener noreferrer"
                                       target="_blank">
                                        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                        </svg>
                                    </a>
                                    <a href="https://linkedin.com/company/invoiceflow"
                                       class="footer-social-link"
                                       aria-label="Follow us on LinkedIn"
                                       rel="noopener noreferrer"
                                       target="_blank">
                                        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                                        </svg>
                                    </a>
                                    <a href="https://github.com/invoiceflow"
                                       class="footer-social-link"
                                       aria-label="View our GitHub"
                                       rel="noopener noreferrer"
                                       target="_blank">
                                        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                        </svg>
                                    </a>
                                    <a href="https://instagram.com/invoiceflow"
                                       class="footer-social-link"
                                       aria-label="Follow us on Instagram"
                                       rel="noopener noreferrer"
                                       target="_blank">
                                        <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                            <div class="footer-column">
                                <h4 class="footer-column-title">Product</h4>
                                <nav class="footer-links" aria-label="Product links">
                                    <a href="{% url 'features' %}" class="footer-link">
                                        <span class="footer-link-text">Features</span>
                                    </a>
                                    <a href="{% url 'templates' %}" class="footer-link">
                                        <span class="footer-link-text">Templates</span>
                                    </a>
                                    <a href="{% url 'api' %}" class="footer-link">
                                        <span class="footer-link-text">API Access</span>
                                    </a>
                                </nav>
                            </div>
                            <div class="footer-column">
                                <h4 class="footer-column-title">Company</h4>
                                <nav class="footer-links" aria-label="Company links">
                                    <a href="{% url 'about' %}" class="footer-link">
                                        <span class="footer-link-text">About Us</span>
                                    </a>
                                    <a href="{% url 'careers' %}" class="footer-link">
                                        <span class="footer-link-text">Careers</span>
                                    </a>
                                    <a href="{% url 'contact' %}" class="footer-link">
                                        <span class="footer-link-text">Contact</span>
                                    </a>
                                </nav>
                            </div>
                            <div class="footer-column">
                                <h4 class="footer-column-title">Legal</h4>
                                <nav class="footer-links" aria-label="Legal links">
                                    <a href="{% url 'privacy' %}" class="footer-link">
                                        <span class="footer-link-text">Privacy Policy</span>
                                    </a>
                                    <a href="{% url 'terms' %}" class="footer-link">
                                        <span class="footer-link-text">Terms of Service</span>
                                    </a>
                                </nav>
                            </div>
                            <div class="footer-newsletter">
                                <h4 class="footer-column-title">Stay Updated</h4>
                                <p class="footer-newsletter-text">Get the latest updates on new features and product releases.</p>
                                <form class="footer-newsletter-form"
                                      action="{% url 'newsletter_signup' %}"
                                      method="post">
                                    {% csrf_token %}
                                    <div class="footer-newsletter-input-group">
                                        <input type="email"
                                               name="email"
                                               class="footer-newsletter-input"
                                               placeholder="Enter your email"
                                               required
                                               aria-label="Email address">
                                        <button type="submit"
                                                class="footer-newsletter-btn"
                                                aria-label="Subscribe to newsletter">
                                            <svg viewBox="0 0 24 24"
                                                 fill="none"
                                                 stroke="currentColor"
                                                 stroke-width="2"
                                                 stroke-linecap="round"
                                                 stroke-linejoin="round"
                                                 aria-hidden="true">
                                                <line x1="22" y1="2" x2="11" y2="13" />
                                                <polygon points="22 2 15 22 11 13 2 9 22 2" />
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="footer-divider" aria-hidden="true"></div>
                    <div class="footer-bottom">
                        <div class="footer-credits">
                            <p class="footer-copyright">&copy; {% now "Y" %} InvoiceFlow. All rights reserved.</p>
                            <p class="footer-built-with">
                                Built with <span class="heart" aria-label="love">ðŸ’œ</span> by
                                <a href="https://onome-portfolio-ten.vercel.app/"
                                   target="_blank"
                                   rel="noopener noreferrer"
                                   class="creator-link">Jeffery Onome Emuodafevware</a>
                            </p>
                        </div>
                        <div class="footer-badges">
                            <div class="footer-badge">
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                                </svg>
                                <span>Secure</span>
                            </div>
                            <div class="footer-badge">
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg>
                                <span>24/7 Support</span>
                            </div>
                            <div class="footer-badge">
                                <svg viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round"
                                     aria-hidden="true">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                                    <polyline points="22 4 12 14.01 9 11.01" />
                                </svg>
                                <span>99.9% Uptime</span>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        {% endblock %}
        {% if USE_MINIFIED_ASSETS %}
            <script src="{% static 'js/app.min.js' %}" defer></script>
        {% else %}
            <script src="{% static 'js/app.js' %}" defer></script>
        {% endif %}
        <!-- Cookie Consent Banner (GDPR Compliant) -->
        <div id="cookie-consent-banner"
             class="cookie-consent-banner"
             style="display: none"
             role="dialog"
             aria-labelledby="cookie-consent-title"
             aria-describedby="cookie-consent-description">
            <div class="cookie-consent-content">
                <div class="cookie-consent-text">
                    <h3 id="cookie-consent-title">Cookie Preferences</h3>
                    <p id="cookie-consent-description">
                        We use cookies to enhance your experience. Essential cookies are required for the site to function.
                        You can choose to accept additional cookies for analytics and personalization.
                        <a href="{% url 'privacy' %}#cookies" class="cookie-link">Learn more in our Privacy Policy</a>
                    </p>
                </div>
                <div class="cookie-consent-options">
                    <div class="cookie-option">
                        <input type="checkbox" id="cookie-essential" checked disabled>
                        <label for="cookie-essential">Essential (Required)</label>
                    </div>
                    <div class="cookie-option">
                        <input type="checkbox" id="cookie-analytics">
                        <label for="cookie-analytics">Analytics</label>
                    </div>
                    <div class="cookie-option">
                        <input type="checkbox" id="cookie-marketing">
                        <label for="cookie-marketing">Marketing</label>
                    </div>
                </div>
                <div class="cookie-consent-actions">
                    <button type="button" id="cookie-reject-all" class="btn btn-secondary btn-sm">Reject All</button>
                    <button type="button"
                            id="cookie-accept-selected"
                            class="btn btn-secondary btn-sm">Accept Selected</button>
                    <button type="button" id="cookie-accept-all" class="btn btn-primary btn-sm">Accept All</button>
                </div>
            </div>
        </div>
        <style>
    .cookie-consent-banner {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        border-top: 1px solid #e5e7eb;
        padding: 1.5rem;
        z-index: 9999;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
    }
    .cookie-consent-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 1.5rem;
    }
    .cookie-consent-text {
        flex: 1;
        min-width: 280px;
    }
    .cookie-consent-text h3 {
        font-size: 1.1rem;
        color: #111827;
        margin-bottom: 0.5rem;
        font-weight: 600;
    }
    .cookie-consent-text p {
        font-size: 0.875rem;
        color: #4b5563;
        margin: 0;
        line-height: 1.5;
    }
    .cookie-link {
        color: #4f46e5;
        text-decoration: underline;
    }
    .cookie-consent-options {
        display: flex;
        gap: 1.5rem;
        flex-wrap: wrap;
    }
    .cookie-option {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    .cookie-option input[type="checkbox"] {
        width: 18px;
        height: 18px;
        accent-color: #6366f1;
    }
    .cookie-option label {
        font-size: 0.875rem;
        color: #374151;
        cursor: pointer;
    }
    .cookie-consent-actions {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }
    @media (max-width: 768px) {
        .cookie-consent-content {
            flex-direction: column;
            text-align: center;
        }
        .cookie-consent-options {
            justify-content: center;
        }
        .cookie-consent-actions {
            justify-content: center;
            width: 100%;
        }
    }
        </style>
        <script>
    (function() {
        const banner = document.getElementById('cookie-consent-banner');
        const acceptAll = document.getElementById('cookie-accept-all');
        const acceptSelected = document.getElementById('cookie-accept-selected');
        const rejectAll = document.getElementById('cookie-reject-all');
        const analyticsCheckbox = document.getElementById('cookie-analytics');
        const marketingCheckbox = document.getElementById('cookie-marketing');
        
        // Check if consent already given
        fetch('/api/consent/get/')
            .then(r => r.json())
            .then(data => {
                if (!data.hasConsent) {
                    banner.style.display = 'block';
                }
            })
            .catch(() => {
                banner.style.display = 'block';
            });
        
        function saveConsent(analytics, marketing) {
            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]')?.value || 
                             document.cookie.split('; ').find(row => row.startsWith('csrftoken='))?.split('=')[1];
            
            fetch('/api/consent/set/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': csrfToken
                },
                body: JSON.stringify({
                    analytics: analytics,
                    marketing: marketing,
                    preferences: true
                })
            }).then(() => {
                banner.style.display = 'none';
            }).catch(console.error);
        }
        
        acceptAll?.addEventListener('click', () => saveConsent(true, true));
        acceptSelected?.addEventListener('click', () => saveConsent(analyticsCheckbox.checked, marketingCheckbox.checked));
        rejectAll?.addEventListener('click', () => saveConsent(false, false));
    })();
        </script>
        <script src="{% static 'js/lazy-images.js' %}" defer></script>
        <script src="{% static 'js/performance.js' %}" defer></script>
        {% if USE_MINIFIED_ASSETS %}
            <script src="{% static 'js/landing.min.js' %}" defer></script>
        {% else %}
            <script src="{% static 'js/landing.js' %}" defer></script>
        {% endif %}
        {% block extra_js %}
        {% endblock %}
        <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
        </script>
    </body>
</html>
