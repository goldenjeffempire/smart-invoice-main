{% comment %}
Reusable Dropdown Component
Usage: {% include 'components/dropdown.html' with id="actions-dropdown" trigger_text="Actions" ... %}

Parameters:
- id: Dropdown ID (required)
- trigger_text: Text for trigger button
- trigger_icon: SVG icon for trigger
- trigger_variant: Trigger button variant (default, primary, secondary, ghost)
- position: Dropdown position (bottom-left, bottom-right, top-left, top-right)
- items: List of dropdown items [{'label': 'Edit', 'href': '/edit', 'icon': '...'}, ...]
- extra_classes: Additional CSS classes
{% endcomment %}
<div class="dropdown {{ extra_classes }}" data-dropdown id="{{ id }}">
    <button type="button"
            class="dropdown-trigger btn btn-{{ trigger_variant|default:'secondary' }}"
            aria-haspopup="true"
            aria-expanded="false"
            aria-controls="{{ id }}-menu"
            data-dropdown-trigger>
        {% if trigger_icon %}<span class="dropdown-trigger-icon" aria-hidden="true">{{ trigger_icon|safe }}</span>{% endif %}
        {% if trigger_text %}<span>{{ trigger_text }}</span>{% endif %}
        <svg class="dropdown-caret"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="2"
             aria-hidden="true">
            <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
    </button>
    <div class="dropdown-menu dropdown-{{ position|default:'bottom-left' }}"
         id="{{ id }}-menu"
         role="menu"
         aria-hidden="true">
        {% if items %}
            <div class="dropdown-menu-inner">
                {% for item in items %}
                    {% if item.divider %}
                        <div class="dropdown-divider" role="separator"></div>
                    {% elif item.header %}
                        <div class="dropdown-header">{{ item.header }}</div>
                    {% else %}
                        <a href="{{ item.href|default:'#' }}"
                           class="dropdown-item {% if item.danger %}dropdown-item-danger{% endif %} {% if item.active %}active{% endif %}"
                           role="menuitem"
                           {% if item.disabled %}aria-disabled="true" tabindex="-1"{% endif %}>
                            {% if item.icon %}<span class="dropdown-item-icon" aria-hidden="true">{{ item.icon|safe }}</span>{% endif %}
                            <span>{{ item.label }}</span>
                            {% if item.shortcut %}<span class="dropdown-shortcut">{{ item.shortcut }}</span>{% endif %}
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
        {% else %}
            <div class="dropdown-menu-inner">
                {% block dropdown_items %}{% endblock %}
            </div>
        {% endif %}
    </div>
</div>
