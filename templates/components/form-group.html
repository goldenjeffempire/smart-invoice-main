{% comment %}
Reusable Form Group Component
Usage: {% include 'components/form-group.html' with label="Email" name="email" type="email" ... %}

Parameters:
- label: Field label text
- name: Input name attribute
- id: Input id (defaults to name)
- type: Input type (text, email, password, number, tel, url, textarea, select)
- value: Input value
- placeholder: Placeholder text
- required: Mark as required (true/false)
- disabled: Disable input (true/false)
- readonly: Make input readonly (true/false)
- error: Error message to display
- hint: Help text to display
- size: Input size (sm, base, lg)
- icon_left: SVG icon to show on left
- icon_right: SVG icon to show on right
- extra_classes: Additional CSS classes for wrapper
- input_classes: Additional CSS classes for input
{% endcomment %}

<div class="form-group {% if error %}form-group-error{% endif %} {{ extra_classes }}">
    {% if label %}
    <label for="{{ id|default:name }}" class="form-label">
        {{ label }}
        {% if required %}<span class="form-required" aria-hidden="true">*</span>{% endif %}
    </label>
    {% endif %}
    
    <div class="form-input-wrapper {% if icon_left %}has-icon-left{% endif %} {% if icon_right %}has-icon-right{% endif %}">
        {% if icon_left %}
        <span class="form-icon form-icon-left" aria-hidden="true">{{ icon_left|safe }}</span>
        {% endif %}
        
        {% if type == 'textarea' %}
        <textarea 
            name="{{ name }}" 
            id="{{ id|default:name }}" 
            class="form-input form-textarea {% if size %}form-input-{{ size }}{% endif %} {{ input_classes }}"
            placeholder="{{ placeholder }}"
            {% if required %}required aria-required="true"{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if readonly %}readonly{% endif %}
            {% if rows %}rows="{{ rows }}"{% endif %}
            {% if error %}aria-invalid="true"{% endif %}
            {% if error and hint %}aria-describedby="{{ id|default:name }}-error {{ id|default:name }}-hint"{% elif error %}aria-describedby="{{ id|default:name }}-error"{% elif hint %}aria-describedby="{{ id|default:name }}-hint"{% endif %}
        >{{ value }}</textarea>
        {% elif type == 'select' %}
        <select 
            name="{{ name }}" 
            id="{{ id|default:name }}" 
            class="form-input form-select {% if size %}form-input-{{ size }}{% endif %} {{ input_classes }}"
            {% if required %}required aria-required="true"{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if error %}aria-invalid="true"{% endif %}
            {% if error and hint %}aria-describedby="{{ id|default:name }}-error {{ id|default:name }}-hint"{% elif error %}aria-describedby="{{ id|default:name }}-error"{% elif hint %}aria-describedby="{{ id|default:name }}-hint"{% endif %}
        >
            {% block select_options %}{% endblock %}
        </select>
        <span class="form-select-arrow" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        </span>
        {% else %}
        <input 
            type="{{ type|default:'text' }}" 
            name="{{ name }}" 
            id="{{ id|default:name }}" 
            value="{{ value }}"
            class="form-input {% if size %}form-input-{{ size }}{% endif %} {{ input_classes }}"
            placeholder="{{ placeholder }}"
            {% if required %}required aria-required="true"{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if readonly %}readonly{% endif %}
            {% if min %}min="{{ min }}"{% endif %}
            {% if max %}max="{{ max }}"{% endif %}
            {% if step %}step="{{ step }}"{% endif %}
            {% if pattern %}pattern="{{ pattern }}"{% endif %}
            {% if autocomplete %}autocomplete="{{ autocomplete }}"{% endif %}
            {% if error %}aria-invalid="true"{% endif %}
            {% if error and hint %}aria-describedby="{{ id|default:name }}-error {{ id|default:name }}-hint"{% elif error %}aria-describedby="{{ id|default:name }}-error"{% elif hint %}aria-describedby="{{ id|default:name }}-hint"{% endif %}
        >
        {% endif %}
        
        {% if icon_right %}
        <span class="form-icon form-icon-right" aria-hidden="true">{{ icon_right|safe }}</span>
        {% endif %}
    </div>
    
    {% if error %}
    <p class="form-error" id="{{ id|default:name }}-error" role="alert">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
        </svg>
        {{ error }}
    </p>
    {% endif %}
    
    {% if hint %}
    <p class="form-hint" id="{{ id|default:name }}-hint">{{ hint }}</p>
    {% endif %}
</div>